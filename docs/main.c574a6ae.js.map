{"version":3,"sources":["javascripts/util.js","javascripts/vector2.js","javascripts/animation.js","javascripts/coin.js","javascripts/coinManager.js","javascripts/main.js"],"names":["Util","objectAssign","object1","object2","keys","Object","i","length","isHTMLElement","element","nodeType","HTMLElement","cubicBezier","t","p1","cp1","cp2","p2","Math","pow","hypotenuse","x","y","max","abs","min","n","sqrt","lerp","from","to","modulate","number","percent","result","getEuclideanDistance","a","b","cycleNumber","range","da","c","randomChoice","array","random","whole","fixed","floor","parseFloat","toFixed","parseInt","Vector2","init","prototype","equals","v","clone","add","by","subtract","multiply","divide","limit","magnitude","normalize","mag","applyCubicBezier","getAngle","angle","acos","PI","getAngleTo","rotateBy","cos","sin","rotateTo","getDistanceTo","Animation","ANIMATION_DEFAULT_CONFIG","duration","delay","timingFunction","onTick","onStart","onComplete","config","setConfig","rafID","timeoutID","isActive","isAnimating","timeStart","timeEnd","progress","updateProgress","now","Date","loop","continueLoop","stop","window","cancelAnimationFrame","requestAnimationFrame","bind","play","setTimeout","clearTimeout","Coin","COIN_DEFAULT_CONFIG","startVector","endVector","curveStartIntensity","curveEndIntensity","curveStartAngle","curveEndAngle","beforeStart","animation","amount","position","controlPoint1","getControlPointVector","controlPoint2","intensity","angleOffset","distance","start","tick","end","CoinManager","COIN_MANAGER_DEFAULT_CONFIG","startElement","endElement","parentElement","canvasMargin","resolutionMultiplier","zIndex","imageURL","coinSize","increment","maxNumberOfCoins","delayRange","durationRange","arcLengthIntensityRange","arcAngleIntensity","noSCurve","onCoinStart","coin","onCoinComplete","coins","endCount","canvasElement","context","image","offsetLeft","offsetRight","setup","begin","callback","getTargetVectors","populate","createCanvas","getElementCenterVector","rect","getBoundingClientRect","left","width","top","height","remainder","numberOfCoins","difference","generateCoinConfig","push","curve","offsetTop","right","bottom","document","createElement","style","toString","getContext","Image","onload","appendChild","src","startAnimation","update","clearCanvas","m","completedCoins","drawImage","clearRect","remove","undefined","containerElement","querySelector","coinsValue","coinManager","coinsvg","classList","textContent","addEventListener"],"mappings":"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","file":"main.c574a6ae.js","sourceRoot":"../source","sourcesContent":["var Util = {\n  objectAssign: function(object1, object2) {\n    var keys = Object.keys(object2);\n    for (var i = 0; i < keys.length; i++)\n      object1[keys[i]] = object2[keys[i]];\n    return object1;\n  },\n  isHTMLElement: function(element) {\n    return (\n      typeof element === 'object'\n      && typeof element.nodeType === 'number'\n      && element.nodeType === 1\n      && element instanceof HTMLElement\n    );\n  },\n  cubicBezier: function(t, p1, cp1, cp2, p2) {\n    return Math.pow(1 - t, 3) * p1 + 3 * t * Math.pow(1 - t, 2) * cp1 + 3 * t * t * (1 - t) * cp2 + t * t * t * p2;\n  },\n  hypotenuse: function(x, y) {\n    var max = Math.max(Math.abs(x), Math.abs(y));\n    if (max === 0) max = 1;\n    var min = Math.min(Math.abs(x), Math.abs(y));    \n    var n = min / max;\n    return max * Math.sqrt(1 + n * n);\n  },\n  lerp: function(from, to, t) {\n    return (1 - t) * from + t * to;\n  },\n  modulate: function(number, from, to) {\n    if (typeof from === 'number') from = [0, from];\n    if (typeof to === 'number') to = [0, to];\n    var percent = (number - from[0]) / (from[1] - from[0]);\n    var result;\n    if (to[1] > to[0])\n      result = percent * (to[1] - to[0]) + to[0];\n    else\n      result = to[0] - (percent * (to[0] - to[1]));\n    return result;\n  },\n  getEuclideanDistance: function(a, b) {\n    if (a === b) return 0;\n    return Math.sqrt(Math.abs((a - b) * (b - a)));\n  },\n  cycleNumber: function(number, range) {\n    if (typeof range === 'number') range = [0, range];\n    var max = Math.max(range[0], range[1]);\n    var min = Math.min(range[0], range[1]);\n    if (max === 0 && min === 0) return 0;\n    var da = Util.getEuclideanDistance(min, max);\n    var db, c;\n    if (number > max) {\n      db = Util.getEuclideanDistance(number, max);\n      c = db % da + min;\n      return c === min ? max : c;\n    } else if (number < min) {\n      db = Util.getEuclideanDistance(number, min);\n      c = max - db % da;\n      return c === max ? min : c;\n    }\n    return number;\n  },\n  randomChoice: function(array) {\n    var index = Util.random(array.length - 1, true);\n    return array[index];\n  },\n  random: function(range, whole, fixed) {\n    if (typeof whole === 'undefined') whole = false;\n    if (typeof fixed === 'undefined') fixed = 2;\n    if (typeof range === 'number') range = [0, range];\n    if (range[0] === 0 && range[1] === 1) {\n      if (whole === true)\n        return Math.floor(Math.random() * 2);\n      else\n        return parseFloat(Math.random().toFixed(fixed));\n    } else {\n      let number = this.modulate(Math.random(), 1, range, false);\n      return parseInt((number).toFixed(0), 10);\n    }\n  }\n};\n\nexport default Util;\n","import Util from './util';\n\nvar Vector2 = function(x, y) {\n  this.init(x, y);\n};\n\nVector2.prototype = {\n  init: function(x, y) {\n    this.x = (typeof x === 'number') ? x : 0;\n    this.y = (typeof y === 'number') ? y : 0;\n  },\n  equals: function(v) {\n    this.x = v.x;\n    this.y = v.y;\n    return this;\n  },\n  clone: function() {\n    return new Vector2(this.x, this.y);\n  },\n  add: function(by) {\n    if (typeof by === 'object') {\n      this.x += by.x;\n      this.y += by.y;\n    } else if (typeof by === 'number') {\n      this.x += by;\n      this.y += by;\n    }\n    return this;\n  },\n  subtract: function(by) {\n    if (typeof by === 'object') {\n      this.x -= by.x;\n      this.y -= by.y;\n    } else if (typeof by === 'number') {\n      this.x -= by;\n      this.y -= by;\n    }\n    return this;\n  },\n  multiply: function(by) {\n    this.x *= by;\n    this.y *= by;\n    return this;\n  },\n  divide: function(by) {\n    if (by === 0) by = 1;\n    this.x /= by;\n    this.y /= by;\n    return this;\n  },\n  limit: function(by) {\n    if (this.magnitude() > by)\n      this.normalize().multiply(by, by);\n    return this;\n  },\n  magnitude: function() {\n    return Util.hypotenuse(this.x, this.y);\n  },\n  normalize: function() {\n    var mag = Math.abs(this.magnitude()); \n    mag = mag === 0 ? 1 : mag;\n    this.x /= mag;\n    this.y /= mag;\n    return this;\n  },\n  applyCubicBezier: function(t, p1, cp1, cp2, p2) {\n    this.x = Util.cubicBezier(t, p1.x, cp1.x, cp2.x, p2.x);\n    this.y = Util.cubicBezier(t, p1.y, cp1.y, cp2.y, p2.y);\n  },\n  getAngle: function() {\n    var angle = Math.acos(this.x / this.magnitude());\n    if (this.y < 0) angle = Math.PI + (Math.PI - angle);\n    return angle;\n  },\n  getAngleTo: function(to) {\n    return Vector2.subtract(to, this).getAngle();\n  },\n  rotateBy: function(by) {\n    var angle = this.getAngle() + by;\n    var magnitude = this.magnitude();\n    this.x = Math.cos(angle) * magnitude;\n    this.y = Math.sin(angle) * magnitude;\n    return this;\n  },\n  rotateTo: function(angle) {\n    var angle = Util.cycleNumber(angle, Math.PI * 2);\n    var magnitude = this.magnitude();\n    this.x = Math.cos(angle) * magnitude;\n    this.y = Math.sin(angle) * magnitude;\n    return this;\n  },\n  getDistanceTo: function(to) {\n    return Vector2.subtract(this, to).magnitude();\n  },\n};\n\nVector2.subtract = function(a, b) {\n  return new Vector2().equals(a).subtract(b.x, b.y);\n};\n\nexport default Vector2;","import Util from './util';\n\nvar ANIMATION_DEFAULT_CONFIG = {\n  // animation duration in ms, you can set it to 'forever'\n  // if you want it to run until stop is called.\n  duration: 1000,\n  delay: 0,\n  timingFunction: function(t) { return t },\n  onTick: function() {},\n  onStart: function() {},\n  onComplete: function() {},\n};\n\nvar Animation = function(config) {\n  this.init(config);\n};\n\nAnimation.prototype = {\n  init: function(config) {\n    this.config = Util.objectAssign({}, ANIMATION_DEFAULT_CONFIG);\n    this.setConfig(config);\n\n    this.rafID;\n    this.timeoutID;\n\n    this.isActive = false;\n    this.isAnimating = false;\n\n    this.timeStart = 0;\n    this.timeEnd = 0;\n\n    this.progress = 0;\n  },\n  setConfig: function(config) {\n    if (typeof config === 'object') Util.objectAssign(this.config, config);\n  },\n  updateProgress: function() {\n    if (typeof this.config.duration === 'number') {\n      var now = Date.now();\n      this.progress = (now - this.timeStart) / this.config.duration;\n      if (this.progress > 1) this.progress = 1;\n    } else if (this.config.duration === 'forever') {\n      this.progress = 0;\n    } else {\n      this.progress = 1;\n    }\n  },\n  loop: function() {\n    if (this.isAnimating === true) {\n      this.updateProgress();\n      this.config.onTick(this.config.timingFunction(this.progress));\n      if (this.progress < 1) {\n        this.continueLoop();\n      } else {\n        this.stop();\n      }\n    }\n  },\n  continueLoop: function() {\n    if (this.isAnimating === true) {\n      window.cancelAnimationFrame(this.rafID);\n      this.rafID = window.requestAnimationFrame(this.loop.bind(this));\n    }\n  },\n  play: function() {\n    if (this.isActive === false) {\n      this.isActive = true;\n      this.timeoutID = setTimeout(function() {\n        this.isAnimating = true;\n        this.timeStart = Date.now();\n        this.config.onStart(this);\n        this.continueLoop();  \n      }.bind(this), this.config.delay);\n    }\n  },\n  stop: function() {\n    if (this.isActive === true) {\n      window.cancelAnimationFrame(this.rafID);\n      clearTimeout(this.timeoutID);\n      this.isAnimating = false;\n      this.isActive = false;\n      this.timeEnd = Date.now();\n      this.progress = 0;\n      this.config.onComplete(this);\n    }\n  },\n}\n\nexport default Animation;\n","import Util from './util';\nimport Vector2 from './vector2';\nimport Animation from './animation';\n\n// @Coin\nvar COIN_DEFAULT_CONFIG = {\n  // Animation\n  delay: 1000,\n  duration: 1000,\n  timingFunction: function(t) { return t * t * t; },\n\n  // Vectors\n  startVector: new Vector2(),\n  endVector: new Vector2(),\n\n  // 0 -> 1\n  curveStartIntensity: 0.5,\n  curveEndIntensity: 0.5,\n\n  curveStartAngle: 0,\n  curveEndAngle: 0,\n\n  beforeStart: function() {},\n  onComplete: function() {},\n};\n\nvar Coin = function(config) {\n  this.init(config);\n};\n\nCoin.prototype = {\n  // 1) Initialize properties and set config.\n  init: function(config) {\n    this.config = Util.objectAssign({}, COIN_DEFAULT_CONFIG);\n    this.setConfig(config);\n\n    this.animation = new Animation();\n    this.isActive = false;\n\n    this.amount = this.config.amount;\n    this.position = new Vector2().equals(this.config.startVector);\n    this.controlPoint1 = this.getControlPointVector(this.config.startVector, this.config.endVector,   this.config.curveStartIntensity, this.config.curveStartAngle);\n    this.controlPoint2 = this.getControlPointVector(this.config.endVector,   this.config.startVector, this.config.curveEndIntensity,   this.config.curveEndAngle);\n  },\n  // 2) Set coin config.\n  setConfig: function(config) {\n    if (typeof config === 'object') Util.objectAssign(this.config, config);\n  },\n  // 3) Helper function to calculate control point vectors.\n  getControlPointVector: function(from, to, intensity, angleOffset) {\n    var distance = from.getDistanceTo(to);\n    var length = distance * intensity;\n    var angle = Util.cycleNumber(\n      from.getAngleTo(to) + angleOffset, Math.PI * 2\n    );\n    return new Vector2(\n      from.x + Math.cos(angle) * length,\n      from.y + Math.sin(angle) * length,\n    );\n  },\n  // 4) Start here.\n  start: function() {\n    this.animation.stop();\n    this.animation.setConfig({\n      delay: this.config.delay,\n      duration: this.config.duration,\n      timingFunction: this.config.timingFunction,\n      onStart: function() {\n        this.config.beforeStart(this);\n        this.isActive = true;\n      }.bind(this),\n      onTick: this.tick.bind(this),\n      onComplete: this.end.bind(this),\n    });\n    this.animation.play();\n  },\n  // 5)\n  tick: function(t) {\n    this.position.applyCubicBezier(t, this.config.startVector, this.controlPoint1, this.controlPoint2, this.config.endVector);\n  },\n  // 6) This is called once animation is completed.\n  end: function() {\n    this.isActive = false;\n    this.config.onComplete(this);\n  },\n}\n\nexport default Coin;\n","import Util from './util';\nimport Vector2 from './vector2';\nimport Animation from './animation';\nimport Coin from './coin';\n\n// @CoinManager\nvar COIN_MANAGER_DEFAULT_CONFIG = {\n  startElement: null,\n  endElement: null,\n  parentElement: null,\n\n  canvasMargin: 100,\n  resolutionMultiplier: 1,\n  zIndex: 0,\n\n  imageURL: '',\n  coinSize: 20,\n  amount: 1000,\n  increment: 20,\n  maxNumberOfCoins: 'infinite',\n\n  timingFunction: function(t) { return t; },\n  delayRange: [0, 0],\n  durationRange: [600, 1000],\n\n  arcLengthIntensityRange: [0, 0.5],\n  arcAngleIntensity: Math.PI / 4,\n\n  noSCurve: false,\n\n  onCoinStart: function(coin) {},\n  onCoinComplete: function(coin) {},\n\n  beforeStart: function() {},\n  onComplete: function() {},\n};\n\nvar CoinManager = function(config) {\n  this.init(config);\n};\n\nCoinManager.prototype = {\n  // 1) Initialize properties and stuff.\n  init: function(config) {\n    this.config = Util.objectAssign({}, COIN_MANAGER_DEFAULT_CONFIG);\n    this.setConfig(config);\n\n    this.animation;\n    this.isActive = false;\n    this.startVector;\n    this.endVector;\n    this.coins = [];\n    this.endCount = 0;\n    this.canvasElement;\n    this.context;\n    this.image;\n\n    this.offsetLeft;\n    this.offsetRight;\n  },\n  // 2) Set config.\n  setConfig: function(config) {\n    if (typeof config === 'object') Util.objectAssign(this.config, config);\n  },\n  // 3) Trigger Start.\n  start: function() {\n    this.setup(this.begin.bind(this));\n  },\n  // 4) Setup target vectors, initialize coin objects, and create canvas.\n  setup: function(callback) {\n    if (this.isActive === false) {\n      this.isActive = true;\n      this.getTargetVectors();\n      this.populate();\n      this.createCanvas(callback);\n    }\n  },\n  // 5) Set starting and ending vectors from config elements.\n  getTargetVectors: function() {\n    this.startVector = this.getElementCenterVector(this.config.startElement);\n    this.endVector   = this.getElementCenterVector(this.config.endElement);\n  },\n  // 6) Helper function to get center vector of element.\n  getElementCenterVector: function(element) {\n    var rect = element.getBoundingClientRect();\n    return new Vector2(\n      rect.left + (rect.width  / 2),\n      rect.top  + (rect.height / 2),\n    );\n  },\n  // 7) Prepare, calculate, and initialize coin objects.\n  populate: function() {\n    this.coins = [];\n    var amount = this.config.increment, remainder = 0, numberOfCoins = 0;\n\n    // Calculate number of coins and remainder.\n    if (this.config.increment > 0 && this.config.amount > 0) {\n      remainder = this.config.amount % this.config.increment;\n      var difference = this.config.amount - remainder;\n      numberOfCoins = (difference === 0) ? 1 : difference / this.config.increment;\n    }\n\n    if (\n      typeof this.config.maxNumberOfCoins === 'number'\n      && numberOfCoins > this.config.maxNumberOfCoins\n    ) {\n      if (this.config.maxNumberOfCoins <= 0) {\n        numberOfCoins = 0;\n      } else {\n        numberOfCoins = this.config.maxNumberOfCoins;\n        remainder = this.config.amount % numberOfCoins;\n        amount = (this.config.amount - remainder) / numberOfCoins;\n      }\n    }\n    // Loop through number of coins and populate points array.\n    for (var i = 0; i < numberOfCoins; i++) {\n      var config = this.generateCoinConfig()\n      config.amount = amount;\n      if (i === numberOfCoins - 1 && remainder > 0) config.amount = remainder;\n      this.coins.push(new Coin(config));\n    }\n  },\n  // 8) This factory function generates config for each coin object.\n  generateCoinConfig: function() {\n    var curveStartAngle, curveEndAngle;\n    if (this.config.noSCurve === false) {\n      curveStartAngle = Util.modulate(Math.random(), 1, [-this.config.arcAngleIntensity, this.config.arcAngleIntensity]);\n      curveEndAngle = Util.modulate(Math.random(), 1, [-this.config.arcAngleIntensity, this.config.arcAngleIntensity]);\n    } else {\n      var curve = Util.modulate(Math.random(), 1, [-this.config.arcAngleIntensity, this.config.arcAngleIntensity]);\n      curveStartAngle = curve;\n      curveEndAngle = - curve;\n    }\n\n    return {\n      startVector: this.startVector,\n      endVector:   this.endVector,\n\n      timingFunction: this.config.timingFunction,\n\n      delay:               Util.modulate(Math.random(), 1, this.config.delayRange),\n      duration:            Util.modulate(Math.random(), 1, this.config.durationRange),\n      curveStartIntensity: Util.modulate(Math.random(), 1, this.config.arcLengthIntensityRange),\n      curveEndIntensity:   Util.modulate(Math.random(), 1, this.config.arcLengthIntensityRange),\n\n      curveStartAngle: curveStartAngle,\n      curveEndAngle:   curveEndAngle,\n\n      beforeStart: this.config.onCoinStart,\n      onComplete: this.config.onCoinComplete,\n    }\n  },\n  // 9) Create canvas element and calculate offset. Takes in a callback (begin method).\n  createCanvas: function(callback) {\n    if (\n      this.isActive === true\n      && typeof this.canvasElement === 'undefined'\n    ) {\n      this.offsetLeft = Math.min(this.startVector.x, this.endVector.x) - this.config.canvasMargin;\n      this.offsetTop  = Math.min(this.startVector.y, this.endVector.y) - this.config.canvasMargin;\n      var right  = Math.max(this.startVector.x, this.endVector.x);\n      var bottom = Math.max(this.startVector.y, this.endVector.y);\n      var width  = right - this.offsetLeft + this.config.canvasMargin * 2;\n      var height = bottom - this.offsetTop + this.config.canvasMargin * 2;\n\n      this.canvasElement = document.createElement('CANVAS');\n      this.canvasElement.style.position  = 'absolute';\n      this.canvasElement.style.zIndex    = this.config.zIndex.toString();\n      this.canvasElement.style.left      = this.offsetLeft.toString() + 'px';\n      this.canvasElement.style.top       = this.offsetTop.toString()  + 'px';\n      this.canvasElement.style.width     = width.toString()  + 'px';\n      this.canvasElement.style.height    = height.toString() + 'px';\n      this.canvasElement.width  = width  * this.config.resolutionMultiplier;\n      this.canvasElement.height = height * this.config.resolutionMultiplier;\n      this.context = this.canvasElement.getContext('2d');\n      this.image = new Image();\n      this.image.onload = function() {\n        this.config.parentElement.appendChild(this.canvasElement);\n        callback();\n      }.bind(this);\n      this.image.src = this.config.imageURL;\n    }\n  },\n  // 10) This is called once canvasElement is defined and is in the DOM. Start animation!\n  begin: function() {\n    if (this.isActive === true) {\n      this.config.beforeStart();\n      this.startAnimation();\n      if (this.coins.length === 0) this.end();\n    }\n  },\n  // 11) Initialize animation object and start it.\n  startAnimation: function() {\n    this.animation = new Animation({\n      delay: this.config.delay,\n      duration: 'forever',\n      timingFunction: function(t) { return t },\n      onStart: function() {\n        this.config.beforeStart(this);\n      }.bind(this),\n      onTick: this.update.bind(this),\n    });\n    for (var i = 0; i < this.coins.length; i++)\n      this.coins[i].start();\n    this.animation.play();\n  },\n  // 12) Loop through each coins and draw them.\n  update: function() {\n    this.clearCanvas();\n    var m = this.config.resolutionMultiplier;\n    var completedCoins = 0;\n    for (var i = 0; i < this.coins.length; i++) {\n      if (this.coins[i].isActive === true) {\n        this.context.drawImage(\n          this.image,\n          (this.coins[i].position.x - this.offsetLeft - (this.config.coinSize / 2)) * m,\n          (this.coins[i].position.y - this.offsetTop  - (this.config.coinSize / 2)) * m,\n          this.config.coinSize * m,\n          this.config.coinSize * m\n        );\n      } else {\n        completedCoins++;\n      }\n    }\n    if (completedCoins === this.coins.length) this.end();\n  },\n  // 13) Helper function to clear canvas every frame.\n  clearCanvas: function() {\n    this.context.clearRect(0, 0, this.canvasElement.width, this.canvasElement.height);\n  },\n  // 15) This is called after the last coin reached the end. Or if numberOfCoins is 0. Sayonara!\n  end: function() {\n    this.clearCanvas();\n    this.animation.stop();\n    this.canvasElement.remove();\n    this.canvasElement = undefined;\n    this.image = undefined;\n    this.coins = [];\n    this.endCount = 0;\n    this.isActive = false;\n    this.config.onComplete();\n  },\n}\n\nexport default CoinManager;","// Implementation.\nimport CoinManager from './coinManager';\nimport coinsvg from '../images/coin.svg';\n\nvar containerElement = document.querySelector('.container');\nvar startElement     = document.querySelector('.collect-button');\nvar endElement       = document.querySelector('.coinTarget');\nvar coinsValue       = document.querySelector('.coinsValue');\n\nvar coinManager = new CoinManager({\n  startElement: startElement,\n  endElement: endElement,\n  parentElement: containerElement,\n\n  canvasMargin: 100,\n  resolutionMultiplier: 1,\n  zIndex: 1000,\n\n  imageURL: coinsvg,\n  coinSize: 20,\n  amount: 1005,\n  increment: 20,\n  maxNumberOfCoins: 300,\n\n  timingFunction: function(t) { return t; },\n  delayRange: [0, 0],\n  durationRange: [600, 1000],\n\n  arcLengthIntensityRange: [0, 0.5],\n  arcAngleIntensity: Math.PI / 4,\n\n  noSCurve: true,\n\n  onCoinComplete: function(coin) {\n    endElement.classList.remove('coinTarget--animate');\n    endElement.classList.add('coinTarget--animate');\n    coinsValue.textContent = parseInt(coinsValue.textContent, 10) + coin.amount;\n  }.bind(this),\n\n  onComplete: function() {\n    endElement.classList.remove('coinTarget--animate');\n  },\n});\n\nstartElement.addEventListener('click', function() {\n  coinManager.start();\n});"]}