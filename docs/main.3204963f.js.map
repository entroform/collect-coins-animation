{"version":3,"sources":["main.js"],"names":["Util","objectAssign","object1","object2","keys","Object","i","length","isHTMLElement","element","nodeType","HTMLElement","cubicBezier","t","p1","cp1","cp2","p2","Math","pow","hypotenuse","x","y","max","abs","min","n","sqrt","lerp","from","to","modulate","number","percent","result","getEuclideanDistance","a","b","cycleNumber","range","da","c","Vector2","init","prototype","copy","v","clone","add","subtract","multiply","divide","magnitude","normalize","mag","applyCubicBezier","getAngle","angle","acos","PI","getAngleTo","getDistanceTo","ANIMATION_DEFAULT_CONFIG","duration","delay","timingFunction","onTick","onStart","onComplete","Animation","config","setConfig","rafID","timeStart","timeEnd","isActive","isAnimating","progress","updateProgress","now","Date","loop","continueLoop","stop","window","cancelAnimationFrame","requestAnimationFrame","bind","play","setTimeout","COIN_DEFAULT_CONFIG","startVector","endVector","curveStartIntensity","curveEndIntensity","curveStartAngle","curveEndAngle","prepareElement","move","pointElement","position","left","offsetWidth","top","offsetHeight","style","transform","beforeStart","Coin","manager","amount","animation","controlPoint1","getControlPointVector","controlPoint2","create","document","createElement","destroy","remove","start","tick","end","onCoinEnd","intensity","angleOffset","distance","cos","sin","COIN_MANAGER_DEFAULT_CONFIG","startElement","endElement","parentElement","increment","maxNumberOfCoins","minDelay","maxDelay","minDuration","maxDuration","minIntensity","maxIntensity","minAngleIntensity","maxAngleIntensity","noSCurve","coinClassName","onCoinStart","coin","onCoinComplete","CoinManager","coins","endCount","getTargetVectors","populate","getTargetVectorFromElement","rect","getBoundingClientRect","width","height","remainder","numberOfCoins","difference","getCoinConfig","push","random","curve","classList","appendChild","containerElement","querySelector","coinsValue","coinManager","textContent","parseInt","addEventListener"],"mappings":"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","file":"main.3204963f.js","sourceRoot":"../src","sourcesContent":["// @Util\nconst Util = {\n  objectAssign: function(object1, object2) {\n    const keys = Object.keys(object2);\n    for (let i = 0; i < keys.length; i++)\n      object1[keys[i]] = object2[keys[i]];\n    return object1;\n  },\n  isHTMLElement: function(element) {\n    return (\n      typeof element === 'object'\n      && typeof element.nodeType === 'number'\n      && element.nodeType === 1\n      && element instanceof HTMLElement\n    );\n  },\n  cubicBezier: function(t, p1, cp1, cp2, p2) {\n    return Math.pow(1 - t, 3) * p1 + 3 * t * Math.pow(1 - t, 2) * cp1 + 3 * t * t * (1 - t) * cp2 + t * t * t * p2;\n  },\n  hypotenuse: function(x, y) {\n    let max = Math.max(Math.abs(x), Math.abs(y));\n    if (max === 0) max = 1;\n    const min = Math.min(Math.abs(x), Math.abs(y));    \n    const n = min / max;\n    return max * Math.sqrt(1 + n * n);\n  },\n  lerp: function(from, to, t) {\n    return (1 - t) * from + t * to;\n  },\n  modulate(number, from, to) {\n    if (typeof from === 'number') from = [0, from];\n    if (typeof to === 'number') to = [0, to];\n    const percent = (number - from[0]) / (from[1] - from[0]);\n    let result;\n    if (to[1] > to[0]) {\n      result = percent * (to[1] - to[0]) + to[0];\n    } else {\n      result = to[0] - (percent * (to[0] - to[1]));\n    }\n    return result;\n  },\n  getEuclideanDistance(a, b) {\n    if (a === b) return 0;\n    return Math.sqrt(Math.abs((a - b) * (b - a)));\n  },\n  cycleNumber(number, range) {\n    if (typeof range === 'number') range = [0, range];\n    const max = Math.max(range[0], range[1]);\n    const min = Math.min(range[0], range[1]);\n    if (max === 0 && min === 0) return 0;\n    const da = Util.getEuclideanDistance(min, max);\n    let db, c;\n    if (number > max) {\n      db = Util.getEuclideanDistance(number, max);\n      c = db % da + min;\n      return c === min ? max : c;\n    } else if (number < min) {\n      db = Util.getEuclideanDistance(number, min);\n      c = max - db % da;\n      return c === max ? min : c;\n    }\n    return number;\n  },\n};\n\n// @Vector2\nconst Vector2 = function(x, y) {\n  this.init(x, y);\n};\n\nVector2.prototype = {\n  init: function(x, y) {\n    this.x = (typeof x === 'number') ? x : 0;\n    this.y = (typeof y === 'number') ? y : 0;\n  },\n  copy: function(v) {\n    this.x = v.x;\n    this.y = v.y;\n    return this;\n  },\n  clone: function() {\n    return new Vector2(this.x, this.y);\n  },\n  add: function(x, y) {\n    this.x += x;\n    this.y += y;\n    return this;\n  },\n  subtract: function(x, y) {\n    this.x -= x;\n    this.y -= y;\n    return this;\n  },\n  multiply: function(x, y) {\n    this.x *= x;\n    this.y *= y;\n    return this;\n  },\n  divide: function(x, y) {\n    this.x /= x;\n    this.y /= y;\n    return this;\n  },\n  magnitude: function() {\n    return Util.hypotenuse(this.x, this.y);\n  },\n  normalize: function() {\n    let mag = Math.abs(this.magnitude()); \n    mag = mag === 0 ? 1 : mag;\n    this.x /= mag;\n    this.y /= mag;\n    return this;\n  },\n  applyCubicBezier: function(t, p1, cp1, cp2, p2) {\n    this.x = Util.cubicBezier(t, p1.x, cp1.x, cp2.x, p2.x);\n    this.y = Util.cubicBezier(t, p1.y, cp1.y, cp2.y, p2.y);\n  },\n  getAngle: function() {\n    let angle = Math.acos(this.x / this.magnitude());\n    if (this.y < 0) angle = Math.PI + (Math.PI - angle);\n    return angle;\n  },\n  getAngleTo: function(to) {\n    return Vector2.subtract(to, this).getAngle();\n  },\n  getDistanceTo: function(to) {\n    return Vector2\n      .subtract(this, to)\n      .magnitude();\n  },\n};\n\nVector2.subtract = function(a, b) {\n  return new Vector2().copy(a).subtract(b.x, b.y);\n};\n\n// @Animation\nconst ANIMATION_DEFAULT_CONFIG = {\n  duration: 1000, // In ms\n  delay: 0,\n  timingFunction: function(t) { return t },\n  onTick: function() {},\n  onStart: function() {},\n  onComplete: function() {},\n};\n\nconst Animation = function(config) {\n  this.init(config);\n};\n\nAnimation.prototype = {\n  init: function(config) {\n    this.config = Util.objectAssign({}, ANIMATION_DEFAULT_CONFIG);\n    this.setConfig(config);\n    this.rafID;\n    this.timeStart = 0;\n    this.timeEnd = 0;\n    this.isActive = false;\n    this.isAnimating = false;\n    this.progress = 0;\n  },\n  setConfig: function(config) {\n    if (typeof config === 'object')\n      Util.objectAssign(this.config, config);\n  },\n  updateProgress: function() {\n    const now = Date.now();\n    this.progress = (now - this.timeStart) / this.config.duration;\n    if (this.progress > 1) this.progress = 1;\n  },\n  loop: function() {\n    if (this.isAnimating === true) {\n      this.updateProgress();\n      this.config.onTick(\n        this.config.timingFunction(this.progress)\n      );\n      if (this.progress < 1) {\n        this.continueLoop();\n      } else {\n        this.stop();\n      }\n    }\n  },\n  continueLoop: function() {\n    if (this.isAnimating === true) {\n      window.cancelAnimationFrame(this.rafID);\n      this.rafID = window.requestAnimationFrame(\n        this.loop.bind(this)\n      );\n    }\n  },\n  play: function() {\n    if (this.isActive === false) {\n      this.isActive = true;\n      setTimeout(function() {\n        this.isAnimating = true;\n        this.timeStart = Date.now();\n        this.config.onStart(this);\n        this.continueLoop();  \n      }.bind(this), this.config.delay);\n    }\n  },\n  stop: function() {\n    if (this.isActive === true) {\n      window.cancelAnimationFrame(this.rafID);\n      this.isAnimating = false;\n      this.isActive = false;\n      this.timeEnd = Date.now();\n      this.config.onComplete(this);\n      this.progress = 0;\n    }\n  },\n}\n\n// @Coin\nconst COIN_DEFAULT_CONFIG = {\n  // Animation\n  delay: 1000,\n  duration: 1000,\n  timingFunction: function(t) { return t * t * t; },\n\n  // Vectors\n  startVector: new Vector2(),\n  endVector: new Vector2(),\n\n  // 0 -> 1\n  curveStartIntensity: 0.5,\n  curveEndIntensity: 0.5,\n\n  curveStartAngle: 0,\n  curveEndAngle: 0,\n\n  prepareElement: function() {},\n\n  move: function(pointElement, position) {\n    const left = pointElement.offsetWidth / 2;\n    const top = pointElement.offsetHeight / 2;\n    pointElement.style.transform = `translateX(${position.x - left}px) translateY(${position.y - top}px)`;\n  },\n\n  beforeStart: function() {},\n  onComplete: function() {},\n};\n\nconst Coin = function(manager, config) {\n  this.init(manager, config);\n};\n\nCoin.prototype = {\n  init: function(manager, config) {\n    this.config = Util.objectAssign({}, COIN_DEFAULT_CONFIG);\n    this.setConfig(config);\n\n    this.amount = this.config.amount;\n\n    this.manager = manager;\n    this.animation = new Animation();\n    this.isActive = false;\n    this.element;\n\n    this.position = new Vector2().copy(this.config.startVector);\n    this.controlPoint1 = this.getControlPointVector(this.config.startVector, this.config.endVector,   this.config.curveStartIntensity, this.config.curveStartAngle);\n    this.controlPoint2 = this.getControlPointVector(this.config.endVector,   this.config.startVector, this.config.curveEndIntensity,   this.config.curveEndAngle);\n  },\n  setConfig: function(config) {\n    if (typeof config === 'object') Util.objectAssign(this.config, config);\n  },\n  create: function() {\n    this.element = document.createElement('DIV');\n    this.config.prepareElement(this.element);\n  },\n  destroy: function() {\n    if (Util.isHTMLElement(this.element) === true) this.element.remove();\n  },\n  start: function() {\n    this.animation.stop();\n    this.animation.setConfig({\n      delay: this.config.delay,\n      duration: this.config.duration,\n      timingFunction: this.config.timingFunction,\n      onStart: function() {\n        this.create();\n        this.config.beforeStart(this);\n      }.bind(this),\n      onTick: this.tick.bind(this),\n      onComplete: this.end.bind(this),\n    });\n    this.animation.play();\n  },\n  end: function() {\n    this.destroy();\n    this.config.onComplete(this);\n    this.manager.onCoinEnd();\n  },\n  getControlPointVector: function(from, to, intensity, angleOffset) {\n    const distance = from.getDistanceTo(to);\n    const length = distance * intensity;\n    const angle = Util.cycleNumber(\n      from.getAngleTo(to) + angleOffset, Math.PI * 2\n    );\n    return new Vector2(\n      from.x + Math.cos(angle) * length,\n      from.y + Math.sin(angle) * length,\n    );\n  },\n  tick: function(t) {\n    this.position.applyCubicBezier(t, this.config.startVector, this.controlPoint1, this.controlPoint2, this.config.endVector);\n    this.config.move(this.element, this.position, this);\n  },\n}\n\n// @CoinManager\nconst COIN_MANAGER_DEFAULT_CONFIG = {\n  startElement: null,\n  endElement: null,\n  parentElement: null,\n\n  amount: 500,\n  increment: 10,\n  maxNumberOfCoins: 'infinite',\n\n  timingFunction: function(t) { return t * t * t },\n\n  minDelay: 100,\n  maxDelay: 1000,\n\n  minDuration: 400,\n  maxDuration: 1200,\n\n  minIntensity: 0,\n  maxIntensity: 1,\n\n  minAngleIntensity: 0,\n  maxAngleIntensity: Math.PI / 2,\n\n  noSCurve: false,\n\n  coinClassName: 'coin',\n  beforeStart: function() {},\n  onCoinStart: function(coin) {},\n  onCoinComplete: function(coin) {},\n  onComplete: function() {},\n};\n\nconst CoinManager = function(config) {\n  this.init(config);\n};\n\nCoinManager.prototype = {\n  init: function(config) {\n    this.config = Util.objectAssign({}, COIN_MANAGER_DEFAULT_CONFIG);\n    this.setConfig(config);\n\n    this.isActive = false;\n    this.startVector;\n    this.endVector;\n    this.coins = [];\n    this.endCount = 0;\n  },\n  setConfig: function(config) {\n    if (typeof config === 'object') Util.objectAssign(this.config, config);\n  },\n  start: function() {\n    if (this.isActive === false) {\n      this.getTargetVectors();\n      this.populate();\n      this.isActive = true;\n      this.config.beforeStart();\n      for (let i = 0; i < this.coins.length; i++) this.coins[i].start();\n      if (this.coins.length === 0) this.end();\n    }\n  },\n  onCoinEnd: function() {\n    this.endCount++;\n    if (this.endCount === this.coins.length) this.end();\n  },\n  end: function() {\n    this.coins = [];\n    this.endCount = 0;\n    this.isActive = false;\n    this.config.onComplete();\n  },\n  getTargetVectors: function() {\n    this.startVector = this.getTargetVectorFromElement(this.config.startElement);\n    this.endVector   = this.getTargetVectorFromElement(this.config.endElement);\n  },\n  getTargetVectorFromElement: function(element) {\n    const rect = element.getBoundingClientRect();\n    return new Vector2(\n      rect.left + (rect.width  / 2),\n      rect.top  + (rect.height / 2),\n    );\n  },\n  populate: function() {\n    this.coins = [];\n    let amount = this.config.increment, remainder = 0, numberOfCoins = 0;\n\n    // Calculate number of coins and remainder.\n    if (this.config.increment > 0 && this.config.amount > 0) {\n      remainder = this.config.amount % this.config.increment;\n      let difference = this.config.amount - remainder;\n      numberOfCoins = (difference === 0) ? 1 : difference / this.config.increment;\n    }\n\n    if (\n      typeof this.config.maxNumberOfCoins === 'number'\n      && numberOfCoins > this.config.maxNumberOfCoins\n    ) {\n      if (this.config.maxNumberOfCoins <= 0) {\n        numberOfCoins = 0;\n      } else {\n        numberOfCoins = this.config.maxNumberOfCoins;\n        remainder = this.config.amount % numberOfCoins;\n        amount = (this.config.amount - remainder) / numberOfCoins;\n      }\n    }\n   \n    // Loop through number of coins and populate points array.\n    for (let i = 0; i < numberOfCoins; i++) {\n      let config = this.getCoinConfig()\n      config.amount = amount;\n      if (i === numberOfCoins - 1 && remainder > 0) config.amount = remainder;\n      this.coins.push(new Coin(this, config));\n    }\n  },\n  getCoinConfig: function() {\n    let curveStartAngle, curveEndAngle;\n    if (this.config.noSCurve === false) {\n      curveStartAngle = Util.modulate(Math.random(), 1, [-this.config.maxAngleIntensity, this.config.maxAngleIntensity]);\n      curveEndAngle = Util.modulate(Math.random(), 1, [-this.config.maxAngleIntensity, this.config.maxAngleIntensity]);\n    } else {\n      const curve = Util.modulate(Math.random(), 1, [-this.config.maxAngleIntensity, this.config.maxAngleIntensity]);\n      curveStartAngle = curve;\n      curveEndAngle = - curve;\n    }\n\n    return {\n      startVector: this.startVector,\n      endVector:   this.endVector,\n\n      timingFunction: this.config.timingFunction,\n\n      delay:               Util.modulate(Math.random(), 1, [this.config.minDelay, this.config.maxDelay]),\n      duration:            Util.modulate(Math.random(), 1, [this.config.minDuration, this.config.maxDuration]),\n      curveStartIntensity: Util.modulate(Math.random(), 1, [this.config.minIntensity, this.config.maxIntensity]),\n      curveEndIntensity:   Util.modulate(Math.random(), 1, [this.config.minIntensity, this.config.maxIntensity]),\n\n      curveStartAngle: curveStartAngle,\n      curveEndAngle:   curveEndAngle,\n\n      prepareElement: function(element) {\n        element.classList.add(this.config.coinClassName);\n        this.config.parentElement.appendChild(element);\n      }.bind(this),\n\n      beforeStart: this.config.onCoinStart,\n      onComplete: this.config.onCoinComplete,\n    }\n  },\n}\n\n// Implementation.\nconst containerElement = document.querySelector('.container');\nconst startElement     = document.querySelector('.collect-button');\nconst endElement       = document.querySelector('.coinTarget');\nconst coinsValue       = document.querySelector('.coinsValue');\n\nconst coinManager = new CoinManager({\n  coinClassName: 'coin',\n\n  startElement: startElement,\n  endElement: endElement,\n  parentElement: containerElement,\n\n  timingFunction: function(t) { return t; },\n\n  amount: 1000,\n  increment: 20,\n\n  maxNumberOfCoins: 'infinite',\n\n  minDelay: 0,\n  maxDelay: 0,\n\n  minDuration: 600,\n  maxDuration: 1000,\n\n  maxIntensity: 0.5,\n  maxAngleIntensity: Math.PI / 4,\n\n  noSCurve: true,\n\n  onCoinComplete: function(coin) {\n    endElement.classList.remove('coinTarget--animate');\n    endElement.classList.add('coinTarget--animate');\n    coinsValue.textContent = parseInt(coinsValue.textContent, 10) + coin.amount;\n  }.bind(this),\n  onComplete: function() {\n    endElement.classList.remove('coinTarget--animate');\n  },\n});\n\nstartElement.addEventListener('click', () => {\n  coinManager.start();\n});"]}