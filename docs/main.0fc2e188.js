parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"hrVA":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={objectAssign:function(t,e){for(var n=Object.keys(e),r=0;r<n.length;r++)t[n[r]]=e[n[r]];return t},isHTMLElement:function(e){return"object"===t(e)&&"number"==typeof e.nodeType&&1===e.nodeType&&e instanceof HTMLElement},cubicBezier:function(t,e,n,r,o){return Math.pow(1-t,3)*e+3*t*Math.pow(1-t,2)*n+3*t*t*(1-t)*r+t*t*t*o},constrain:function(t,e){"number"==typeof e&&(e=[0,e]);var n=Math.max(e[0],e[1]),r=Math.min(e[0],e[1]);return t>=n?n:t<=r?r:t},hypotenuse:function(t,e){var n=Math.max(Math.abs(t),Math.abs(e));0===n&&(n=1);var r=Math.min(Math.abs(t),Math.abs(e))/n;return n*Math.sqrt(1+r*r)},lerp:function(t,e,n){return(1-n)*t+n*e},modulate:function(t,e,n){"number"==typeof e&&(e=[0,e]),"number"==typeof n&&(n=[0,n]);var r=(t-e[0])/(e[1]-e[0]);return n[1]>n[0]?r*(n[1]-n[0])+n[0]:n[0]-r*(n[0]-n[1])},getEuclideanDistance:function(t,e){return t===e?0:Math.sqrt(Math.abs((t-e)*(e-t)))},cycleNumber:function(t,n){"number"==typeof n&&(n=[0,n]);var r=Math.max(n[0],n[1]),o=Math.min(n[0],n[1]);if(0===r&&0===o)return 0;var a,u=e.getEuclideanDistance(o,r);return t>r?(a=e.getEuclideanDistance(t,r)%u+o)===o?r:a:t<o?(a=r-e.getEuclideanDistance(t,o)%u)===r?o:a:t},randomChoice:function(t){return t[e.random(t.length-1,!0)]},random:function(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=2),"number"==typeof t&&(t=[0,t]),0===t[0]&&1===t[1])return!0===e?Math.floor(2*Math.random()):parseFloat(Math.random().toFixed(n));var r=this.modulate(Math.random(),1,t,!1);return parseInt(r.toFixed(0),10)}},n=e;exports.default=n;
},{}],"2/wR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("./util"));function i(t){return t&&t.__esModule?t:{default:t}}function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n=function(t,i){this.init(t,i)};n.prototype={init:function(t,i){this.x="number"==typeof t?t:0,this.y="number"==typeof i?i:0},equals:function(t){return this.x=t.x,this.y=t.y,this},clone:function(){return new n(this.x,this.y)},add:function(t){return"object"===e(t)?(this.x+=t.x,this.y+=t.y):"number"==typeof t&&(this.x+=t,this.y+=t),this},subtract:function(t){return"object"===e(t)?(this.x-=t.x,this.y-=t.y):"number"==typeof t&&(this.x-=t,this.y-=t),this},multiply:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return 0===t&&(t=1),this.x/=t,this.y/=t,this},limit:function(t){return this.magnitude()>t&&this.normalize().multiply(t,t),this},magnitude:function(){return t.default.hypotenuse(this.x,this.y)},normalize:function(){var t=Math.abs(this.magnitude());return t=0===t?1:t,this.x/=t,this.y/=t,this},applyCubicBezier:function(i,e,n,u,r){this.x=t.default.cubicBezier(i,e.x,n.x,u.x,r.x),this.y=t.default.cubicBezier(i,e.y,n.y,u.y,r.y)},getAngle:function(){var t=Math.acos(this.x/this.magnitude());return this.y<0&&(t=Math.PI+(Math.PI-t)),t},getAngleTo:function(t){return n.subtract(t,this).getAngle()},rotateBy:function(t){var i=this.getAngle()+t,e=this.magnitude();return this.x=Math.cos(i)*e,this.y=Math.sin(i)*e,this},rotateTo:function(i){i=t.default.cycleNumber(i,2*Math.PI);var e=this.magnitude();return this.x=Math.cos(i)*e,this.y=Math.sin(i)*e,this},getDistanceTo:function(t){return n.subtract(this,t).magnitude()}},n.subtract=function(t,i){return(new n).equals(t).subtract(i.x,i.y)};var u=n;exports.default=u;
},{"./util":"hrVA"}],"BKVC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("./util"));function i(t){return t&&t.__esModule?t:{default:t}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n={duration:1e3,delay:0,timingFunction:function(t){return t},onTick:function(){},beforeStart:function(){},onStart:function(){},onComplete:function(){}},s=function(t){this.init(t)};s.prototype={init:function(i){this.config=t.default.objectAssign({},n),this.setConfig(i),this.rafID,this.timeoutID,this.isActive=!1,this.isAnimating=!1,this.timeStart=0,this.timeEnd=0,this.progress=0},setConfig:function(i){"object"===o(i)&&t.default.objectAssign(this.config,i)},updateProgress:function(){if("number"==typeof this.config.duration){var t=Date.now();this.progress=(t-this.timeStart)/this.config.duration,this.progress>1&&(this.progress=1)}else"forever"===this.config.duration?this.progress=0:this.progress=1},loop:function(){!0===this.isAnimating&&(this.updateProgress(),this.config.onTick(this.config.timingFunction(this.progress)),this.progress<1?this.continueLoop():this.stop())},continueLoop:function(){!0===this.isAnimating&&(window.cancelAnimationFrame(this.rafID),this.rafID=window.requestAnimationFrame(this.loop.bind(this)))},play:function(){!1===this.isActive&&(this.isActive=!0,this.config.beforeStart(this),this.timeoutID=setTimeout(function(){this.isAnimating=!0,this.timeStart=Date.now(),this.config.onStart(this),this.continueLoop()}.bind(this),this.config.delay))},stop:function(){!0===this.isActive&&(window.cancelAnimationFrame(this.rafID),clearTimeout(this.timeoutID),this.timeEnd=Date.now(),this.progress=0,this.isAnimating=!1,this.isActive=!1,this.config.onComplete(this))}};var e=s;exports.default=e;
},{"./util":"hrVA"}],"3m2Z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("./util")),i=o(require("./vector2")),n=o(require("./animation"));function o(t){return t&&t.__esModule?t:{default:t}}function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s={value:0,delay:0,duration:400,timingFunction:function(t){return t*t*t},startVector:new i.default,endVector:new i.default,curveStartIntensity:.5,curveEndIntensity:.5,curveStartAngle:0,curveEndAngle:0,beforeStart:function(){},onStart:function(){},onComplete:function(){}},r=function(t){this.init(t)};r.prototype={init:function(o){this.config=t.default.objectAssign({},s),this.setConfig(o),this.animation=new n.default,this.isActive=!1,this.isMoving=!1,this.value=this.config.value,this.position=(new i.default).equals(this.config.startVector),this.controlPoint1=this.getControlPointVector(this.config.startVector,this.config.endVector,this.config.curveStartIntensity,this.config.curveStartAngle),this.controlPoint2=this.getControlPointVector(this.config.endVector,this.config.startVector,this.config.curveEndIntensity,this.config.curveEndAngle)},setConfig:function(i){"object"===e(i)&&t.default.objectAssign(this.config,i)},getControlPointVector:function(n,o,e,s){var r=n.getDistanceTo(o)*e,c=t.default.cycleNumber(n.getAngleTo(o)+s,2*Math.PI);return new i.default(n.x+Math.cos(c)*r,n.y+Math.sin(c)*r)},start:function(){this.isActive=!0,this.config.beforeStart(this),this.animation.setConfig({delay:this.config.delay,duration:this.config.duration,timingFunction:this.config.timingFunction,onStart:function(){this.isMoving=!0,this.config.onStart(this)}.bind(this),onTick:this.update.bind(this),onComplete:this.end.bind(this)}),this.animation.play()},update:function(t){this.position.applyCubicBezier(t,this.config.startVector,this.controlPoint1,this.controlPoint2,this.config.endVector)},end:function(){this.isMoving=!1,this.isActive=!1,this.config.onComplete(this)}};var c=r;exports.default=c;
},{"./util":"hrVA","./vector2":"2/wR","./animation":"BKVC"}],"awC9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("./util")),i=o(require("./vector2")),n=o(require("./animation")),e=o(require("./coin"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a={startElement:null,endElement:null,parentElement:null,canvasMargin:100,resolutionMultiplier:1,zIndex:0,imagePath:"",coinSize:20,totalValue:1e3,valueIncrement:20,numberOfCoinsRange:[0,300],timingFunction:function(t){return t},delayRange:[0,0],durationRange:[600,1e3],arcIntensityRange:[0,.5],arcAngleIntensity:Math.PI/4,noSCurve:!1,beforeCoinStart:function(){},onCoinStart:function(t){},onCoinComplete:function(t){},onStart:function(){},onComplete:function(){}},c=function(t){this.init(t)};c.prototype={init:function(i){this.config=t.default.objectAssign({},a),this.setConfig(i),this.animation,this.isActive=!1,this.startVector,this.endVector,this.coins=[],this.endCount=0,this.canvasElement,this.context,this.image,this.offsetLeft,this.offsetRight},setConfig:function(i){"object"===s(i)&&t.default.objectAssign(this.config,i)},start:function(){this.setup(this.begin.bind(this))},setup:function(t){!1===this.isActive&&(this.isActive=!0,this.getTargetVectors(),this.populate(),this.createCanvas(t))},getTargetVectors:function(){this.startVector=this.getElementCenterVector(this.config.startElement),this.endVector=this.getElementCenterVector(this.config.endElement)},getElementCenterVector:function(t){var n=t.getBoundingClientRect();return new i.default(n.left+n.width/2,n.top+n.height/2)},populate:function(){this.coins=[];var t=0,i=0,n=null,o=0,s=Math.min.apply(null,this.config.numberOfCoinsRange),a=Math.max.apply(null,this.config.numberOfCoinsRange);if(s<0&&(s=0),a<0&&(a=0),0===this.config.totalValue||0===this.config.valueIncrement||this.config.valueIncrement>=this.config.totalValue)o=s,0!==this.config.totalValue&&(this.config.totalValue<=o?(i=this.config.totalValue,t=1):(n=this.config.totalValue%o,t=(this.config.totalValue-n)/o));else{var c=this.config.totalValue%this.config.valueIncrement;(o=0===c?this.config.totalValue/this.config.valueIncrement:(this.config.totalValue-c)/this.config.valueIncrement)<s&&(o=s),o>a&&(o=a),this.config.totalValue<=o?(i=this.config.totalValue,t=1):this.config.totalValue%o==0?(n=0,t=this.config.totalValue/o):(n=this.config.totalValue%o,t=(this.config.totalValue-n)/o)}for(var h=0,r=0;r<o;r++){var l=this.generateCoinConfig();null===n?l.value=h<i?t:0:(l.value=t,r===o-1&&n>0&&(l.value+=n)),this.coins.push(new e.default(l)),h++}},generateCoinConfig:function(){var i,n;if(!1===this.config.noSCurve)i=t.default.modulate(Math.random(),1,[-this.config.arcAngleIntensity,this.config.arcAngleIntensity]),n=t.default.modulate(Math.random(),1,[-this.config.arcAngleIntensity,this.config.arcAngleIntensity]);else{var e=t.default.modulate(Math.random(),1,[-this.config.arcAngleIntensity,this.config.arcAngleIntensity]);i=e,n=-e}return{startVector:this.startVector,endVector:this.endVector,timingFunction:this.config.timingFunction,delay:t.default.modulate(Math.random(),1,this.config.delayRange),duration:t.default.modulate(Math.random(),1,this.config.durationRange),curveStartIntensity:t.default.modulate(Math.random(),1,this.config.arcIntensityRange),curveEndIntensity:t.default.modulate(Math.random(),1,this.config.arcIntensityRange),curveStartAngle:i,curveEndAngle:n,beforeStart:this.config.beforeCoinStart,onStart:this.config.onCoinStart,onComplete:this.config.onCoinComplete}},createCanvas:function(t){if(!0===this.isActive&&void 0===this.canvasElement){this.offsetLeft=Math.min(this.startVector.x,this.endVector.x)-this.config.canvasMargin,this.offsetTop=Math.min(this.startVector.y,this.endVector.y)-this.config.canvasMargin;var i=Math.max(this.startVector.x,this.endVector.x),n=Math.max(this.startVector.y,this.endVector.y),e=i-this.offsetLeft+2*this.config.canvasMargin,o=n-this.offsetTop+2*this.config.canvasMargin;this.canvasElement=document.createElement("CANVAS"),this.canvasElement.style.position="absolute",this.canvasElement.style.zIndex=this.config.zIndex.toString(),this.canvasElement.style.left=this.offsetLeft.toString()+"px",this.canvasElement.style.top=this.offsetTop.toString()+"px",this.canvasElement.style.width=e.toString()+"px",this.canvasElement.style.height=o.toString()+"px",this.canvasElement.width=e*this.config.resolutionMultiplier,this.canvasElement.height=o*this.config.resolutionMultiplier,this.context=this.canvasElement.getContext("2d"),this.image=new Image,this.image.onload=function(){this.config.parentElement.appendChild(this.canvasElement),t()}.bind(this),this.image.src=this.config.imagePath}},begin:function(){!0===this.isActive&&(this.startAnimation(),0===this.coins.length&&this.end())},startAnimation:function(){this.animation=new n.default({duration:"forever",timingFunction:function(t){return t},onStart:function(){this.config.onStart(this)}.bind(this),onTick:this.update.bind(this)});for(var t=0;t<this.coins.length;t++)this.coins[t].start();this.animation.play()},update:function(){this.clearCanvas();for(var t=this.config.resolutionMultiplier,i=0,n=0;n<this.coins.length;n++)!0===this.coins[n].isActive?!0===this.coins[n].isMoving&&this.context.drawImage(this.image,(this.coins[n].position.x-this.offsetLeft-this.config.coinSize/2)*t,(this.coins[n].position.y-this.offsetTop-this.config.coinSize/2)*t,this.config.coinSize*t,this.config.coinSize*t):i++;i===this.coins.length&&this.end()},clearCanvas:function(){this.context.clearRect(0,0,this.canvasElement.width,this.canvasElement.height)},end:function(){this.clearCanvas(),this.animation.stop(),this.canvasElement.remove(),this.canvasElement=void 0,this.image=void 0,this.coins=[],this.endCount=0,this.isActive=!1,this.config.onComplete()}};var h=c;exports.default=h;
},{"./util":"hrVA","./vector2":"2/wR","./animation":"BKVC","./coin":"3m2Z"}],"qgtL":[function(require,module,exports) {
module.exports="coin.9a3164e4.svg";
},{}],"bbCm":[function(require,module,exports) {
"use strict";var e=n(require("./coinManager")),t=n(require("../images/coin.svg"));function n(e){return e&&e.__esModule?e:{default:e}}var a=document.querySelector(".container"),o=document.querySelector(".collectButton"),i=document.querySelector(".coinTarget"),c=document.querySelector(".coinsValue"),r=new e.default({startElement:o,endElement:i,parentElement:a,canvasMargin:100,resolutionMultiplier:1,zIndex:1e3,imagePath:t.default,coinSize:20,totalValue:222,valueIncrement:8,numberOfCoinsRange:[0,300],timingFunction:function(e){return e},delayRange:[0,0],durationRange:[600,1e3],arcIntensityRange:[0,.5],arcAngleIntensity:Math.PI/4,noSCurve:!0,onCoinComplete:function(e){i.classList.remove("coinTarget--animate"),i.classList.add("coinTarget--animate"),c.textContent=parseInt(c.textContent,10)+e.value}.bind(void 0),onStart:function(){o.classList.add("collectButton--disabled"),o.textContent="Collecting..."},onComplete:function(){i.classList.remove("coinTarget--animate"),o.classList.remove("collectButton--disabled"),o.textContent="Collect"}});o.addEventListener("click",function(){r.start()});
},{"./coinManager":"awC9","../images/coin.svg":"qgtL"}]},{},["bbCm"], null)
//# sourceMappingURL=main.0fc2e188.js.map