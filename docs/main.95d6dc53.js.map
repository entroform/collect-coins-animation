{"version":3,"sources":["javascripts/util.js","javascripts/vector2.js","javascripts/animation.js","javascripts/coin.js","javascripts/viewport.js","javascripts/coinManager.js","javascripts/main.js"],"names":["Util","objectAssign","object1","object2","keys","Object","i","length","isHTMLElement","element","nodeType","HTMLElement","cubicBezier","t","p1","cp1","cp2","p2","Math","pow","constrain","value","range","max","min","hypotenuse","x","y","abs","n","sqrt","lerp","from","to","modulate","number","percent","result","getEuclideanDistance","a","b","cycleNumber","da","c","randomChoice","array","random","whole","fixed","floor","parseFloat","toFixed","parseInt","Vector2","init","prototype","equals","clone","add","by","subtract","multiply","divide","limit","magnitude","normalize","mag","applyCubicBezier","getAngle","angle","acos","PI","getAngleTo","rotateBy","cos","sin","rotateTo","getDistanceTo","isPoint","p","v","Animation","ANIMATION_DEFAULT_CONFIG","duration","delay","timingFunction","onTick","beforeStart","onStart","onComplete","config","setConfig","rafID","timeoutID","isActive","isAnimating","timeStart","timeEnd","progress","updateProgress","now","Date","loop","continueLoop","stop","window","cancelAnimationFrame","requestAnimationFrame","bind","play","setTimeout","clearTimeout","Coin","COIN_DEFAULT_CONFIG","startVector","endVector","curveStartIntensity","curveEndIntensity","curveStartAngle","curveEndAngle","animation","isMoving","position","controlPoint1","getControlPointVector","controlPoint2","intensity","angleOffset","distance","start","update","end","ViewportModel","model","modelIsReady","createModel","document","createElement","style","left","top","zIndex","width","maxWidth","height","maxHeight","boxSizing","padding","margin","visibility","body","appendChild","offsetWidth","offsetHeight","CoinManager","COIN_MANAGER_DEFAULT_CONFIG","startElement","endElement","parentElement","clipCanvasOnOverflow","canvasMargin","resolutionMultiplier","prepareCanvas","canvasElement","coinManager","imagePath","coinSize","totalValue","valueIncrement","numberOfCoinsRange","delayRange","durationRange","arcIntensityRange","arcAngleIntensity","noSCurve","beforeCoinStart","onCoinStart","coin","onCoinComplete","coins","endCount","context","image","offsetLeft","offsetRight","setup","begin","callback","getTargetVectors","populate","createCanvas","getElementCenterVector","rect","getBoundingClientRect","coinValue","coinValueCount","coinValueRemainder","numberOfCoins","minNumberOfCoins","apply","maxNumberOfCoins","remainder","loopCount","generateCoinConfig","push","curve","offsetTop","right","bottom","toString","getContext","Image","onload","src","startAnimation","clearCanvas","m","completedCoins","drawImage","clearRect","remove","undefined","containerElement","querySelector","coinsValue","coinsvg","classList","textContent","addEventListener"],"mappings":"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","file":"main.95d6dc53.js","sourceRoot":"../source","sourcesContent":["var Util = {\n  objectAssign: function (object1, object2) {\n    var keys = Object.keys(object2);\n    for (var i = 0; i < keys.length; i++)\n      object1[keys[i]] = object2[keys[i]];\n    return object1;\n  },\n  isHTMLElement: function (element) {\n    return (\n      typeof element === 'object'\n      && typeof element.nodeType === 'number'\n      && element.nodeType === 1\n      && element instanceof HTMLElement\n    );\n  },\n  cubicBezier: function (t, p1, cp1, cp2, p2) {\n    return Math.pow(1 - t, 3) * p1 + 3 * t * Math.pow(1 - t, 2) * cp1 + 3 * t * t * (1 - t) * cp2 + t * t * t * p2;\n  },\n  constrain(value, range) {\n    if (typeof range === 'number') range = [0, range];\n\n    var max = Math.max(range[0], range[1]);\n    var min = Math.min(range[0], range[1]);\n\n    if (value >= max) return max;\n    else if (value <= min) return min;\n\n    return value;\n  },\n  hypotenuse: function (x, y) {\n    var max = Math.max(Math.abs(x), Math.abs(y));\n    if (max === 0) max = 1;\n    var min = Math.min(Math.abs(x), Math.abs(y));\n    var n = min / max;\n    return max * Math.sqrt(1 + n * n);\n  },\n  lerp: function (from, to, t) {\n    return (1 - t) * from + t * to;\n  },\n  modulate: function (number, from, to) {\n    if (typeof from === 'number') from = [0, from];\n    if (typeof to === 'number') to = [0, to];\n    var percent = (number - from[0]) / (from[1] - from[0]);\n    var result;\n    if (to[1] > to[0])\n      result = percent * (to[1] - to[0]) + to[0];\n    else\n      result = to[0] - (percent * (to[0] - to[1]));\n    return result;\n  },\n  getEuclideanDistance: function (a, b) {\n    if (a === b) return 0;\n    return Math.sqrt(Math.abs((a - b) * (b - a)));\n  },\n  cycleNumber: function (number, range) {\n    if (typeof range === 'number') range = [0, range];\n    var max = Math.max(range[0], range[1]);\n    var min = Math.min(range[0], range[1]);\n    if (max === 0 && min === 0) return 0;\n    var da = Util.getEuclideanDistance(min, max);\n    var db, c;\n    if (number > max) {\n      db = Util.getEuclideanDistance(number, max);\n      c = db % da + min;\n      return c === min ? max : c;\n    } else if (number < min) {\n      db = Util.getEuclideanDistance(number, min);\n      c = max - db % da;\n      return c === max ? min : c;\n    }\n    return number;\n  },\n  randomChoice: function (array) {\n    var index = Util.random(array.length - 1, true);\n    return array[index];\n  },\n  random: function (range, whole, fixed) {\n    if (typeof whole === 'undefined') whole = false;\n    if (typeof fixed === 'undefined') fixed = 2;\n    if (typeof range === 'number') range = [0, range];\n    if (range[0] === 0 && range[1] === 1) {\n      if (whole === true)\n        return Math.floor(Math.random() * 2);\n      else\n        return parseFloat(Math.random().toFixed(fixed));\n    } else {\n      var number = this.modulate(Math.random(), 1, range, false);\n      return parseInt(number.toFixed(0), 10);\n    }\n  }\n};\n\nexport default Util;\n","import Util from './util';\n\nvar Vector2 = function (x, y) {\n  this.init(x, y);\n};\n\nVector2.prototype = {\n  init: function (x, y) {\n    this.x = (typeof x === 'number') ? x : 0;\n    this.y = (typeof y === 'number') ? y : 0;\n  },\n  equals: function (a, b) {\n    if (typeof a === 'object' && typeof a.x === 'number' && typeof a.y === 'number') {\n      this.x = a.x;\n      this.y = a.y;\n    } else if (typeof a === 'number' && typeof b === 'number') {\n      this.x = a;\n      this.y = b;\n    }\n    return this;\n  },\n  clone: function () {\n    return new Vector2(this.x, this.y);\n  },\n  add: function (by) {\n    if (typeof by === 'object' && typeof by.x === 'number' && typeof by.y === 'number') {\n      this.x += by.x;\n      this.y += by.y;\n    } else if (typeof by === 'number') {\n      this.x += by;\n      this.y += by;\n    }\n    return this;\n  },\n  subtract: function (by) {\n    if (typeof by === 'object' && typeof by.x === 'number' && typeof by.y === 'number') {\n      this.x -= by.x;\n      this.y -= by.y;\n    } else if (typeof by === 'number') {\n      this.x -= by;\n      this.y -= by;\n    }\n    return this;\n  },\n  multiply: function (by) {\n    if (typeof by === 'number') {\n      this.x *= by;\n      this.y *= by;\n    }\n    return this;\n  },\n  divide: function (by) {\n    if (typeof by === 'number') {\n      if (by === 0) by = 1;\n      this.x /= by;\n      this.y /= by;\n    }\n    return this;\n  },\n  limit: function (by) {\n    if (this.magnitude() > by)\n      this.normalize().multiply(by, by);\n    return this;\n  },\n  magnitude: function () {\n    return Util.hypotenuse(this.x, this.y);\n  },\n  normalize: function () {\n    var mag = Math.abs(this.magnitude());\n    mag = mag === 0 ? 1 : mag;\n    this.x /= mag;\n    this.y /= mag;\n    return this;\n  },\n  applyCubicBezier: function (t, p1, cp1, cp2, p2) {\n    this.x = Util.cubicBezier(t, p1.x, cp1.x, cp2.x, p2.x);\n    this.y = Util.cubicBezier(t, p1.y, cp1.y, cp2.y, p2.y);\n  },\n  getAngle: function () {\n    var angle = Math.acos(this.x / this.magnitude());\n    if (this.y < 0) angle = Math.PI + (Math.PI - angle);\n    return angle;\n  },\n  getAngleTo: function (to) {\n    return Vector2.subtract(to, this).getAngle();\n  },\n  rotateBy: function (by) {\n    var angle = this.getAngle() + by;\n    var magnitude = this.magnitude();\n    this.x = Math.cos(angle) * magnitude;\n    this.y = Math.sin(angle) * magnitude;\n    return this;\n  },\n  rotateTo: function (angle) {\n    var angle = Util.cycleNumber(angle, Math.PI * 2);\n    var magnitude = this.magnitude();\n    this.x = Math.cos(angle) * magnitude;\n    this.y = Math.sin(angle) * magnitude;\n    return this;\n  },\n  getDistanceTo: function (to) {\n    return Vector2.subtract(this, to).magnitude();\n  },\n};\n\nVector2.isPoint = function (p) {\n  return (typeof p === 'object' && typeof p.x === 'number' && typeof p.y === 'number');\n}\n\nVector2.add = function (a, b) {\n  return a.clone().subtract(b);\n}\n\nVector2.subtract = function (a, b) {\n  return a.clone().subtract(b);\n}\n\nVector2.multiply = function (v, by) {\n  return v.clone().multiply(by);\n}\n\nVector2.divide = function (v, by) {\n  if (by === 0) by = 1;\n  return v.clone().divide(by);\n}\n\nexport default Vector2;\n","import Util from './util';\n\nvar ANIMATION_DEFAULT_CONFIG = {\n  // Animation duration is in ms.\n  // You can also set it to 'forever'\n  // if you want it to run indefinitely until\n  // stop() is called.\n  duration: 1000,\n  delay: 0,\n  timingFunction: function (t) {\n    return t\n  },\n\n  // Hooks.\n  onTick: function () {},\n  beforeStart: function () {},\n  onStart: function () {},\n  onComplete: function () {},\n};\n\nvar Animation = function (config) {\n  this.init(config);\n};\n\nAnimation.prototype = {\n  init: function (config) {\n    this.config = Util.objectAssign({}, ANIMATION_DEFAULT_CONFIG);\n    this.setConfig(config);\n\n    this.rafID;\n    this.timeoutID;\n\n    this.isActive = false;\n    this.isAnimating = false;\n\n    this.timeStart = 0;\n    this.timeEnd = 0;\n\n    this.progress = 0;\n  },\n  setConfig: function (config) {\n    if (typeof config === 'object') Util.objectAssign(this.config, config);\n  },\n  updateProgress: function () {\n    if (typeof this.config.duration === 'number') {\n      var now = Date.now();\n      this.progress = (now - this.timeStart) / this.config.duration;\n      if (this.progress > 1) this.progress = 1;\n    } else if (this.config.duration === 'forever') {\n      this.progress = 0;\n    } else {\n      this.progress = 1;\n    }\n  },\n  loop: function () {\n    if (this.isAnimating === true) {\n      this.updateProgress();\n      this.config.onTick(this.config.timingFunction(this.progress));\n      if (this.progress < 1) {\n        this.continueLoop();\n      } else {\n        this.stop();\n      }\n    }\n  },\n  continueLoop: function () {\n    if (this.isAnimating === true) {\n      window.cancelAnimationFrame(this.rafID);\n      this.rafID = window.requestAnimationFrame(this.loop.bind(this));\n    }\n  },\n  play: function () {\n    if (this.isActive === false) {\n      this.isActive = true;\n      this.config.beforeStart(this);\n      this.timeoutID = setTimeout(function () {\n        this.isAnimating = true;\n        this.timeStart = Date.now();\n        this.config.onStart(this);\n        this.continueLoop();\n      }.bind(this), this.config.delay);\n    }\n  },\n  stop: function () {\n    if (this.isActive === true) {\n      window.cancelAnimationFrame(this.rafID);\n      clearTimeout(this.timeoutID);\n      this.timeEnd = Date.now();\n      this.progress = 0;\n      this.isAnimating = false;\n      this.isActive = false;\n      this.config.onComplete(this);\n    }\n  },\n}\n\nexport default Animation;","import Util from './util';\nimport Vector2 from './vector2';\nimport Animation from './animation';\n\n// @Coin\nvar COIN_DEFAULT_CONFIG = {\n  value: 0,\n\n  // Animation Settings.\n  delay: 0,\n  duration: 400,\n  timingFunction: function (t) {\n    return t * t * t;\n  },\n\n  // Start and End Vectors.\n  startVector: new Vector2(),\n  endVector: new Vector2(),\n\n  // Trajectory Settings.\n  // 0 -> 1\n  curveStartIntensity: 0.5,\n  curveEndIntensity: 0.5,\n  curveStartAngle: 0,\n  curveEndAngle: 0,\n\n  // Hooks\n  beforeStart: function () {},\n  onStart: function () {},\n  onComplete: function () {},\n};\n\nvar Coin = function (config) {\n  this.init(config);\n};\n\nCoin.prototype = {\n  // 1) Initialize properties and set config.\n  init: function (config) {\n    this.config = Util.objectAssign({}, COIN_DEFAULT_CONFIG);\n    this.setConfig(config);\n\n    this.animation = new Animation();\n    this.isActive = false;\n    this.isMoving = false;\n\n    this.value = this.config.value;\n\n    this.position = new Vector2().equals(this.config.startVector);\n    \n    this.controlPoint1 = this.getControlPointVector(\n      this.config.startVector, this.config.endVector, this.config.curveStartIntensity, this.config.curveStartAngle\n    );\n    this.controlPoint2 = this.getControlPointVector(\n      this.config.endVector, this.config.startVector, this.config.curveEndIntensity, this.config.curveEndAngle\n    );\n  },\n  // 2) Set coin config.\n  setConfig: function (config) {\n    if (typeof config === 'object') Util.objectAssign(this.config, config);\n  },\n  // 3) Helper function to calculate control point vectors.\n  getControlPointVector: function (from, to, intensity, angleOffset) {\n    var distance = from.getDistanceTo(to);\n    var length = distance * intensity;\n    var angle = Util.cycleNumber(\n      from.getAngleTo(to) + angleOffset,\n      Math.PI * 2\n    );\n    return new Vector2(\n      from.x + Math.cos(angle) * length,\n      from.y + Math.sin(angle) * length,\n    );\n  },\n  // 4) Start here.\n  start: function () {\n    this.isActive = true;\n    this.config.beforeStart(this);\n    this.animation.setConfig({\n      delay: this.config.delay,\n      duration: this.config.duration,\n      timingFunction: this.config.timingFunction,\n      onStart: function () {\n        this.isMoving = true;\n        this.config.onStart(this);\n      }.bind(this),\n      onTick: this.update.bind(this),\n      onComplete: this.end.bind(this),\n    });\n    this.animation.play();\n  },\n  // 5) Update position by applying cubic bezier.\n  update: function (t) {\n    this.position.applyCubicBezier(\n      t,\n      this.config.startVector,\n      this.controlPoint1,\n      this.controlPoint2,\n      this.config.endVector\n    );\n  },\n  // 6) This is called once animation is completed.\n  end: function () {\n    this.isMoving = false;\n    this.isActive = false;\n    this.config.onComplete(this);\n  },\n}\n\nexport default Coin;","var model;\nvar modelIsReady = false;\n\nvar ViewportModel = {\n  createModel: function () {\n    if (modelIsReady === false) {\n      model = document.createElement('DIV');\n\n      model.style.position = 'fixed';\n      model.style.left = '0px';\n      model.style.top = '0px';\n      model.style.zIndex = '-9999px';\n\n      model.style.width = '100vw';\n      model.style.maxWidth = '100%';\n      model.style.height = '100vh';\n      model.style.maxHeight = '100%';\n\n      model.style.boxSizing = 'border-box';\n      model.style.padding = '0';\n      model.style.margin = '0';\n\n      model.style.visibility = 'hidden';\n\n      document.body.appendChild(model);\n      modelIsReady = true;\n    }\n  },\n  width: function () {\n    this.createModel();\n    return model.offsetWidth;\n  },\n  height: function () {\n    this.createModel();\n    return model.offsetHeight;\n  },\n};\n\nexport default ViewportModel;","import Util from './util';\nimport Vector2 from './vector2';\nimport Animation from './animation';\nimport Coin from './coin';\nimport ViewportModel from './viewport';\n\n// @CoinManager\nvar COIN_MANAGER_DEFAULT_CONFIG = {\n  startElement: null,\n  endElement: null,\n  parentElement: null,\n\n  // Canvas Settings.\n  clipCanvasOnOverflow: true,\n  canvasMargin: 100,\n  resolutionMultiplier: 1,\n  zIndex: 0,\n  prepareCanvas: function (canvasElement, coinManager) {},\n\n  // Coin Settings.\n  imagePath: '',\n  coinSize: 20,\n\n  // Coin Value Distribution.\n  totalValue: 1000,\n  valueIncrement: 20,\n  numberOfCoinsRange: [0, 300],\n\n  // Coin Trajectory Settings.\n  timingFunction: function (t) {\n    return t;\n  },\n  delayRange: [0, 0],\n  durationRange: [600, 1000],\n  arcIntensityRange: [0, 0.5],\n  arcAngleIntensity: Math.PI / 4,\n  noSCurve: true,\n\n  // Hooks.\n  beforeCoinStart: function () {},\n  onCoinStart: function (coin) {},\n  onCoinComplete: function (coin) {},\n\n  onStart: function () {},\n  onComplete: function () {},\n};\n\nvar CoinManager = function (config) {\n  this.init(config);\n};\n\nCoinManager.prototype = {\n  // 1) Initialize properties and stuff.\n  init: function (config) {\n    this.config = Util.objectAssign({}, COIN_MANAGER_DEFAULT_CONFIG);\n    this.setConfig(config);\n\n    this.animation;\n    this.isActive = false;\n    this.startVector;\n    this.endVector;\n    this.coins = [];\n    this.endCount = 0;\n    this.canvasElement;\n    this.context;\n    this.image;\n\n    this.offsetLeft;\n    this.offsetRight;\n  },\n  // 2) Set config.\n  setConfig: function (config) {\n    if (typeof config === 'object') Util.objectAssign(this.config, config);\n  },\n  // 3) Trigger Start.\n  start: function () {\n    this.setup(this.begin.bind(this));\n  },\n  // 4) Setup target vectors, initialize coin objects, and create canvas.\n  setup: function (callback) {\n    if (this.isActive === false) {\n      this.isActive = true;\n      this.getTargetVectors();\n      this.populate();\n      this.createCanvas(callback);\n    }\n  },\n  // 5) Set starting and ending vectors from config elements.\n  getTargetVectors: function () {\n    this.startVector = this.getElementCenterVector(this.config.startElement);\n    this.endVector = this.getElementCenterVector(this.config.endElement);\n  },\n  // 6) Helper function to get center vector of element.\n  getElementCenterVector: function (element) {\n    var rect = element.getBoundingClientRect();\n    return new Vector2(\n      rect.left + (rect.width / 2),\n      rect.top + (rect.height / 2),\n    );\n  },\n  // 7) Prepare, calculate, and initialize coin objects.\n  populate: function () {\n    this.coins = [];\n\n    var coinValue = 0;\n    var coinValueCount = 0;\n    var coinValueRemainder = null;\n    var numberOfCoins = 0;\n\n    var minNumberOfCoins = Math.min.apply(null, this.config.numberOfCoinsRange);\n    var maxNumberOfCoins = Math.max.apply(null, this.config.numberOfCoinsRange);\n    if (minNumberOfCoins < 0) minNumberOfCoins = 0;\n    if (maxNumberOfCoins < 0) maxNumberOfCoins = 0;\n\n    if (\n      this.config.totalValue === 0 ||\n      this.config.valueIncrement === 0 ||\n      this.config.valueIncrement >= this.config.totalValue\n    ) {\n      numberOfCoins = minNumberOfCoins;\n\n      if (this.config.totalValue !== 0) {\n        if (this.config.totalValue <= numberOfCoins) {\n          coinValueCount = this.config.totalValue;\n          coinValue = 1;\n        } else {\n          coinValueRemainder = this.config.totalValue % numberOfCoins;\n          coinValue = (this.config.totalValue - coinValueRemainder) / numberOfCoins;\n        }\n      }\n    } else {\n      var remainder = this.config.totalValue % this.config.valueIncrement;\n\n      if (remainder === 0) {\n        numberOfCoins = this.config.totalValue / this.config.valueIncrement;\n      } else {\n        numberOfCoins = (this.config.totalValue - remainder) / this.config.valueIncrement;\n      }\n\n      if (numberOfCoins < minNumberOfCoins) numberOfCoins = minNumberOfCoins;\n      if (numberOfCoins > maxNumberOfCoins) numberOfCoins = maxNumberOfCoins;\n\n      if (this.config.totalValue <= numberOfCoins) {\n        coinValueCount = this.config.totalValue;\n        coinValue = 1;\n      } else {\n        if (this.config.totalValue % numberOfCoins === 0) {\n          coinValueRemainder = 0;\n          coinValue = this.config.totalValue / numberOfCoins;\n        } else {\n          coinValueRemainder = this.config.totalValue % numberOfCoins;\n          coinValue = (this.config.totalValue - coinValueRemainder) / numberOfCoins;\n        }\n      }\n    }\n\n    // Loop through number of coins and populate points array.\n    var loopCount = 0;\n    for (var i = 0; i < numberOfCoins; i++) {\n\n      var config = this.generateCoinConfig()\n\n      if (coinValueRemainder === null) {\n        config.value = (loopCount < coinValueCount) ? coinValue : 0;\n      } else {\n        config.value = coinValue;\n        if (i === numberOfCoins - 1 && coinValueRemainder > 0)\n          config.value += coinValueRemainder;\n      }\n\n      this.coins.push(new Coin(config));\n      loopCount++;\n    }\n  },\n  // 8) This factory function generates config for each coin object.\n  generateCoinConfig: function () {\n    var curveStartAngle, curveEndAngle;\n\n    if (this.config.noSCurve === false) {\n      curveStartAngle = Util.modulate(Math.random(), 1, [-this.config.arcAngleIntensity, this.config.arcAngleIntensity]);\n      curveEndAngle = Util.modulate(Math.random(), 1, [-this.config.arcAngleIntensity, this.config.arcAngleIntensity]);\n    } else {\n      var curve = Util.modulate(Math.random(), 1, [-this.config.arcAngleIntensity, this.config.arcAngleIntensity]);\n      curveStartAngle = curve;\n      curveEndAngle = -curve;\n    }\n\n    return {\n      startVector: this.startVector,\n      endVector: this.endVector,\n\n      timingFunction: this.config.timingFunction,\n\n      delay: Util.modulate(Math.random(), 1, this.config.delayRange),\n      duration: Util.modulate(Math.random(), 1, this.config.durationRange),\n      curveStartIntensity: Util.modulate(Math.random(), 1, this.config.arcIntensityRange),\n      curveEndIntensity: Util.modulate(Math.random(), 1, this.config.arcIntensityRange),\n\n      curveStartAngle: curveStartAngle,\n      curveEndAngle: curveEndAngle,\n\n      beforeStart: this.config.beforeCoinStart,\n      onStart: this.config.onCoinStart,\n      onComplete: this.config.onCoinComplete,\n    }\n  },\n  // 9) Create canvas element and calculate offset. Takes in a callback (begin method).\n  createCanvas: function (callback) {\n    if (\n      this.isActive === true &&\n      typeof this.canvasElement === 'undefined'\n    ) {\n      this.offsetLeft = Math.min(this.startVector.x, this.endVector.x) - this.config.canvasMargin;\n      this.offsetTop  = Math.min(this.startVector.y, this.endVector.y) - this.config.canvasMargin;\n      var right  = Math.max(this.startVector.x, this.endVector.x);\n      var bottom = Math.max(this.startVector.y, this.endVector.y);\n      var width  = right - this.offsetLeft + this.config.canvasMargin * 2;\n      var height = bottom - this.offsetTop + this.config.canvasMargin * 2;\n\n      this.canvasElement = document.createElement('CANVAS');\n      this.canvasElement.style.position = 'fixed';\n      this.canvasElement.style.zIndex = this.config.zIndex.toString();\n\n      // Clip canvas if it overflows viewport.\n      if (this.config.clipCanvasOnOverflow === true) {\n        if (this.offsetLeft < 0) {\n          width = width - Math.abs(this.offsetLeft);\n          this.offsetLeft = 0;\n        }\n        if (this.offsetLeft + width > ViewportModel.width()) {\n          width = width - ((this.offsetLeft + width) - ViewportModel.width());\n        }\n        if (this.offsetTop < 0) {\n          height = height - Math.abs(this.offsetTop);\n          this.offsetTop = 0;\n        }\n        if (this.offsetTop + height > ViewportModel.height()) {\n          height = height - ((this.offsetTop + height) - ViewportModel.height());\n        }\n      }\n\n      this.canvasElement.style.left = this.offsetLeft.toString() + 'px';\n      this.canvasElement.style.top  = this.offsetTop.toString() + 'px';\n      this.canvasElement.style.width  = width.toString() + 'px';\n      this.canvasElement.style.height = height.toString() + 'px';\n      this.canvasElement.width  = width * this.config.resolutionMultiplier;\n      this.canvasElement.height = height * this.config.resolutionMultiplier;\n\n      this.config.prepareCanvas(this.canvasElement, this);\n      this.context = this.canvasElement.getContext('2d');\n      this.image = new Image();\n      this.image.onload = function () {\n        this.config.parentElement.appendChild(this.canvasElement);\n        callback();\n      }.bind(this);\n      this.image.src = this.config.imagePath;\n    }\n  },\n  // 10) This is called once canvasElement is defined and is in the DOM. Start animation!\n  begin: function () {\n    if (this.isActive === true) {\n      this.startAnimation();\n      if (this.coins.length === 0) this.end();\n    }\n  },\n  // 11) Initialize animation object and start it.\n  startAnimation: function () {\n    this.animation = new Animation({\n      duration: 'forever',\n      timingFunction: function (t) {\n        return t\n      },\n      onStart: function () {\n        this.config.onStart(this);\n      }.bind(this),\n      onTick: this.update.bind(this),\n    });\n    for (var i = 0; i < this.coins.length; i++)\n      this.coins[i].start();\n    this.animation.play();\n  },\n  // 12) Loop through each coins and draw them.\n  update: function () {\n    this.clearCanvas();\n    var m = this.config.resolutionMultiplier;\n    var completedCoins = 0;\n    for (var i = 0; i < this.coins.length; i++) {\n      if (this.coins[i].isActive === true) {\n        if (this.coins[i].isMoving === true) {\n          this.context.drawImage(\n            this.image,\n            (this.coins[i].position.x - this.offsetLeft - (this.config.coinSize / 2)) * m,\n            (this.coins[i].position.y - this.offsetTop -  (this.config.coinSize / 2)) * m,\n            this.config.coinSize * m,\n            this.config.coinSize * m\n          );\n        }\n      } else {\n        completedCoins++;\n      }\n    }\n    if (completedCoins === this.coins.length) this.end();\n  },\n  // 13) Helper function to clear canvas every frame.\n  clearCanvas: function () {\n    this.context.clearRect(0, 0, this.canvasElement.width, this.canvasElement.height);\n  },\n  // 15) This is called after the last coin reached the end. Or if numberOfCoins is 0. Sayonara!\n  end: function () {\n    this.clearCanvas();\n    this.animation.stop();\n    this.canvasElement.remove();\n    this.canvasElement = undefined;\n    this.image = undefined;\n    this.coins = [];\n    this.endCount = 0;\n    this.isActive = false;\n    this.config.onComplete();\n  },\n}\n\nexport default CoinManager;","// Implementation.\nimport CoinManager from './coinManager';\nimport coinsvg from '../images/coin.svg';\n\nvar containerElement = document.querySelector('.container');\nvar startElement = document.querySelector('.collectButton');\nvar endElement = document.querySelector('.coinTarget');\nvar coinsValue = document.querySelector('.coinsValue');\n\nvar coinManager = new CoinManager({\n  startElement: startElement,\n  endElement: endElement,\n  parentElement: containerElement,\n\n  clipCanvasOnOverflow: true,\n  canvasMargin: 500,\n  resolutionMultiplier: 2,\n  zIndex: 1000,\n\n  imagePath: coinsvg,\n  coinSize: 20,\n  totalValue: 222,\n  valueIncrement: 8,\n  numberOfCoinsRange: [0, 300],\n\n  timingFunction: function (t) {\n    return t;\n  },\n  delayRange: [0, 0],\n  durationRange: [600, 1000],\n\n  arcIntensityRange: [0, 0.5],\n  arcAngleIntensity: Math.PI / 4,\n  noSCurve: true,\n\n  onCoinComplete: function (coin) {\n    endElement.classList.remove('coinTarget--animate');\n    endElement.classList.add('coinTarget--animate');\n    coinsValue.textContent = parseInt(coinsValue.textContent, 10) + coin.value;\n  }.bind(this),\n\n  onStart: function () {\n    startElement.classList.add('collectButton--disabled');\n    startElement.textContent = 'Collecting...';\n  },\n  onComplete: function () {\n    endElement.classList.remove('coinTarget--animate');\n    startElement.classList.remove('collectButton--disabled');\n    startElement.textContent = 'Collect';\n  },\n});\n\nstartElement.addEventListener('click', function () {\n  coinManager.start();\n});"]}